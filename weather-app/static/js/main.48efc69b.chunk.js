(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,a){e.exports=a(554)},384:function(e,t,a){},552:function(e,t,a){},554:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(31),i=a.n(c),o=a(37),s=a(60),l={cities:[],timestamps:[]},u=a(143),m=a(206),p=a(207),d=a.n(p),h=a(36),f=a(208),E=a(209),y=a.n(E),b=a(47),v=a(48),j=a(50),O=a(49),_=a(51),g=a(101),w=a.n(g),C=function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"handleClick",value:function(){this.props.deleteCity(this.props.timestamp)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.country,n=e.region,c=this.props,i=c.temp_c,o=c.temp_f,s=c.isLocation;return r.a.createElement("div",{className:"weather__show"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Location"),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"city__info"},"Country: ",a)),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"city__info"},"Sity: ",t)),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"city__info"},"Region: ",n))),r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Temperature C"),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"temp__info"},i))),r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Temperature F"),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"temp__info"},o))),s?r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},r.a.createElement(w.a,{variant:"contained",color:"primary",onClick:this.handleClick.bind(this)},"Delete"))):"")}}]),t}(n.Component),N=Object(h.b)(function(e){return{}},function(e){return{deleteCity:function(t){e(function(e){return{type:"DELETE_WEATHER",data:e}}(t))}}})(C),k=a(210),T=a.n(k),S=a(142),x={textField:{minWidth:"500px"},label:{fontSize:"18px",color:"#fff"},input:{padding:"10px 20px 10px 0",fontSize:"20px",color:"#fff"},inputFocused:{color:"#fff ",background:"fff"},labelFocused:{color:"#fff !important"},button:{padding:"15px 30px",fontSize:"16px",marginLeft:"30px",marginTop:"20px"}},R=a(102),W=a.n(R),A=function(e){return function(t){W.a.get("https://api.apixu.com/v1/current.json?key=ca628a294c8a4fc6920162818180811&q=".concat(e.city)).then(function(a){t({type:"GET_WEATHER",data:Object(s.a)({},a.data,{timestamp:e.timestamp})})})}},F=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).state={setSity:""},a}return Object(_.a)(t,e),Object(v.a)(t,[{key:"handleChange",value:function(e){var t=/[\u0430-\u044f\u0410-\u042f\u0451\u0401]/g,a=e.target.value;-1!==a.search(t)?e.target.value=a.replace(t,""):this.setState({setSity:e.target.value})}},{key:"handeKeyPress",value:function(e){"Enter"===e.key&&this.state.setSity.trim()&&this.props.addWeather({city:this.state.setSity,timestamp:Date.now().toString()})}},{key:"handleClick",value:function(e){this.state.setSity.trim()&&this.props.addWeather({city:this.state.setSity,timestamp:Date.now().toString()})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"weather__add"},r.a.createElement("h1",null,"Add City"),r.a.createElement(T.a,{id:"standard-dense",name:"add_sity",placeholder:"Moscow",label:"Enter the name of the city",autoFocus:!0,className:e.textField,onChange:this.handleChange.bind(this),onKeyPress:this.handeKeyPress.bind(this),InputProps:{classes:{root:e.input,focused:e.inputFocused}},InputLabelProps:{classes:{root:e.label,focused:e.labelFocused}}}),r.a.createElement(w.a,{variant:"contained",color:"primary",className:e.button,onClick:this.handleClick.bind(this),classes:{root:e.button}},"Check the weather"),r.a.createElement("h1",null,"Weather now"))}}]),t}(n.Component),L=Object(h.b)(function(e){return{}},function(e){return{addWeather:function(t){e(A(t))}}})(Object(S.withStyles)(x)(F)),P=function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.props.cities.reverse().map(function(e,t){var a=e.location,n=a.name,c=a.country,i=a.region,o=e.current,s=o.temp_c,l=o.temp_f;return r.a.createElement(N,{key:t,name:n,country:c,region:i,temp_c:s,temp_f:l,isLocation:!0,timestamp:e.timestamp})}))}}]),t}(n.Component),D=Object(h.b)(function(e){return{cities:e.persistedReducer.cities.filter(function(t){var a=e.persistedReducer.timestamps;return a?a.every(function(e){return e!==t.timestamp}):t})}},function(e){return{}})(P),H=function(){return function(e){var t=function(){var e=navigator.geolocation;return new Promise(function(t,a){e||a(new Error("Not Access")),e.getCurrentPosition(function(e){t(e)},function(){a(new Error("Not Access"))})})}();t?t.then(function(t){var a=t.coords.latitude,n=t.coords.longitude;W.a.get("https://api.apixu.com/v1/current.json?key=ca628a294c8a4fc6920162818180811&q=".concat(a,",").concat(n)).then(function(t){e({type:"GET_CURRENT_WEATHER",data:t.data,error:!0})})}):e({type:"NOT_ACCESS",data:null,error:!0})}},G=(a(384),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getWeather()}},{key:"render",value:function(){if(this.props.weather){var e=this.props.weather.location,t=e.name,a=e.country,n=e.region,c=this.props.weather.current,i=c.temp_c,o=c.temp_f;return r.a.createElement("div",{className:"weather"},r.a.createElement("div",{className:"container"},r.a.createElement(L,null),r.a.createElement(D,null),r.a.createElement(N,{name:t,country:a,region:n,temp_c:i,temp_f:o,isCurrent:!1})))}return""}}]),t}(n.Component)),z=Object(h.b)(function(e){return{weather:e.persistedReducer.currentWeather}},function(e){return{getWeather:function(){e(H())}}})(G),I=(a(386),a(552),{key:"root",storage:d.a}),K=Object(u.a)(I,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return"GET_CURRENT_WEATHER"===t.type?Object(s.a)({},e,{currentWeather:t.data}):"NOT_ACCESS"===t.type?Object(s.a)({},e,{error:t.error}):"DELETE_WEATHER"===t.type?Object(s.a)({},e,{timestamps:e.timestamps.concat(t.data)}):"GET_WEATHER"===t.type?Object(s.a)({},e,{cities:e.cities.concat(t.data)}):e}),q=Object(o.d)(Object(o.c)({persistedReducer:K}),Object(o.a)(f.a,y.a)),J=Object(u.b)(q);i.a.render(r.a.createElement(h.a,{store:q},r.a.createElement(m.a,{persistor:J},r.a.createElement(z,null))),document.getElementById("root"))}},[[211,2,1]]]);
//# sourceMappingURL=main.48efc69b.chunk.js.map